[build]
  publish = "."
  command = ""

# Service worker must not be cached aggressively
[[headers]]
  for = "/service-worker.js"
  [headers.values]
    Cache-Control = "no-store"
    Service-Worker-Allowed = "/"

# Ensure videos are served with correct MIME + CORS
[[headers]]
  for = "/media/posters/*.mp4"
  [headers.values]
    Content-Type = "video/mp4"
    Access-Control-Allow-Origin = "*"

[[headers]]
  for = "/media/posters/*.webm"
  [headers.values]
    Content-Type = "video/webm"
    Access-Control-Allow-Origin = "*"

# Default SPA routing
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
