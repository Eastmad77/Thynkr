<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0a1b2e" />
  <title>Whylee — Profile</title>

  <!-- PWA & icons -->
  <link rel="manifest" href="/site.webmanifest?v=7006" />
  <link rel="icon" href="/media/icons/favicon-32.png" sizes="32x32" />
  <link rel="apple-touch-icon" href="/media/icons/whylee-icon-192.png" />

  <!-- Preload sprite for faster first paint -->
  <link rel="preload" href="/media/avatars/avatars-sprite.svg" as="image" />

  <!-- Core styles -->
  <link rel="stylesheet" href="/styles/style.css?v=7006" />
  <link rel="stylesheet" href="/styles/animations.css?v=7006" />

  <!-- Avatar system -->
  <link rel="stylesheet" href="/styles/avatar.css?v=7006" />
  <link rel="stylesheet" href="/styles/avatar-badge.css?v=7006" />
  <style>
    /* Page-local layout */
    .page { max-width: 1040px; margin: 0 auto; padding: 20px; }
    header { display:flex; align-items:center; justify-content:space-between; }
    .hero { display:flex; gap:20px; align-items:center; margin-top:24px; }
    .hero .meta h1 { margin:0 0 6px; font-size:1.6rem; }
    .card { background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.06);
            border-radius:16px; padding:16px; }
    .grid { display:grid; gap:16px; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); margin-top:20px; }
    .stat { display:flex; align-items:center; gap:10px; }
  </style>
</head>
<body class="theme-dark">
  <div class="page">
    <header>
      <a href="/index.html" class="brand">Whylee</a>
      <nav>
        <a href="/leaderboard.html" class="link">Leaderboard</a>
        <a href="/pro.html" class="button primary">Go Pro</a>
      </nav>
    </header>

    <section class="hero card">
      <!-- Your requested element -->
      <div class="avatar-wrap"
           aria-label="Tom — Pro subscriber, streak 12"
           data-tier="pro"
           data-name="Tom"
           data-progress="42"
           data-sprite="avatar-pro-gold"
           data-badge="crown-gold"
           data-dot>
      </div>

      <div class="meta">
        <h1>Tom</h1>
        <div class="muted">Pro · 12-day streak · 2,840 total questions</div>
        <div id="xpBar" class="progress" aria-label="XP progress">
          <div class="progress-bar" style="width:42%"></div>
        </div>
      </div>
    </section>

    <section class="grid">
      <div class="card">
        <h3>Daily Record</h3>
        <div id="dailyDots" class="streak-dots" aria-label="Daily streak"></div>
      </div>

      <div class="card">
        <h3>Stats</h3>
        <div class="stat"><span>Perfect Levels</span><strong>4</strong></div>
        <div class="stat"><span>Accuracy</span><strong>96%</strong></div>
        <div class="stat"><span>Badges</span><strong>15</strong></div>
      </div>
    </section>
  </div>

  <!-- App core (if your shell needs it) -->
  <script defer src="/shell.js?v=7006"></script>

  <!-- Avatar system (renders .avatar-wrap elements) -->
  <script type="module" src="/scripts/ui/avatar.js?v=7006"></script>

  <script>
    // Example: populate streak dots quickly
    (function () {
      const root = document.getElementById('dailyDots');
      const days = 7, filled = 6;
      for (let i = 1; i <= days; i++) {
        const d = document.createElement('span');
        d.className = 'dot' + (i <= filled ? ' filled' : '');
        root.appendChild(d);
      }
    })();
  </script>
</body>
</html>
